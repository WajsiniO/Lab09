{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Krisu\\\\Desktop\\\\k1\\\\wajsinio2\\\\src\\\\components\\\\posts.jsx\";\nimport React, { Component } from \"react\";\nimport PostsTable from \"./postsTable\";\nimport { paginate } from \"../utils/paginate\";\nimport Pagination from \"./common/pagination\";\nimport _ from 'lodash';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Posts extends Component {\n  constructor(props) {\n    super(props);\n    this.handleDelete = post => {\n      const posts = this.state.items.filter(p => p.id !== post.id);\n      this.setState({\n        items: posts\n      });\n    };\n    this.handlePageChange = page => {\n      this.setState({\n        currentPage: page\n      });\n    };\n    this.handleSort = path => {\n      const sortColumn = {\n        ...this.state.sortColumn\n      };\n      if (sortColumn.path === path) {\n        sortColumn.order = sortColumn.order === 'asc' ? 'desc' : 'asc';\n      } else {\n        sortColumn.path = path;\n        sortColumn.order = 'asc';\n      }\n      this.setState({\n        sortColumn\n      });\n    };\n    this.renderSortIcon = column => {\n      if (column !== this.state.sortColumn.path) {\n        return null;\n      }\n      if (this.state.sortColumn.order === 'asc') {\n        return /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-sort-asc\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 16\n        }, this);\n      }\n      if (this.state.sortColumn.order === 'desc') {\n        return /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-sort-desc\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 16\n        }, this);\n      }\n    };\n    this.state = {\n      error: null,\n      isLoaded: false,\n      items: [],\n      pageSize: 4,\n      currentPage: 1,\n      sortColumn: {\n        path: 'title',\n        order: 'asc'\n      }\n    };\n  }\n  componentDidMount() {\n    fetch(\"http://localhost:3001/api/posts\").then(res => res.json()).then(result => {\n      this.setState({\n        isLoaded: true,\n        items: result\n      });\n      console.log(result);\n    }, error => {\n      this.setState({\n        isLoaded: true,\n        error\n      });\n    });\n  }\n  render() {\n    const {\n      items,\n      pageSize,\n      currentPage,\n      sortColumn\n    } = this.state;\n    if (!items.length) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Brak wpis\\xF3w\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 20\n      }, this);\n    }\n    const sorted = _.orderBy(items, [sortColumn.path], [sortColumn.order]);\n    const posts = paginate(sorted, currentPage, pageSize);\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(PostsTable, {\n        items: posts,\n        sortIcon: this.renderSortIcon,\n        onDelete: this.handleDelete,\n        onSort: this.handleSort\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n        itemsCount: items.length,\n        pageSize: this.state.pageSize,\n        currentPage: this.state.currentPage,\n        onPageChange: this.handlePageChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default Posts;","map":{"version":3,"names":["React","Component","PostsTable","paginate","Pagination","_","jsxDEV","_jsxDEV","Posts","constructor","props","handleDelete","post","posts","state","items","filter","p","id","setState","handlePageChange","page","currentPage","handleSort","path","sortColumn","order","renderSortIcon","column","className","fileName","_jsxFileName","lineNumber","columnNumber","error","isLoaded","pageSize","componentDidMount","fetch","then","res","json","result","console","log","render","length","children","sorted","orderBy","Fragment","sortIcon","onDelete","onSort","itemsCount","onPageChange"],"sources":["C:/Users/Krisu/Desktop/k1/wajsinio2/src/components/posts.jsx"],"sourcesContent":["import React, {Component} from \"react\";\r\n\r\nimport PostsTable from \"./postsTable\";\r\nimport {paginate} from \"../utils/paginate\";\r\nimport Pagination from \"./common/pagination\";\r\nimport _ from 'lodash';\r\n\r\nclass Posts extends Component {\r\n\r\n    constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        error: null,\r\n        isLoaded: false,\r\n        items: [],\r\n        pageSize: 4,\r\n        currentPage: 1,\r\n        sortColumn: {path: 'title', order: 'asc'}\r\n    };\r\n}\r\n\r\ncomponentDidMount() {\r\n    fetch(\"http://localhost:3001/api/posts\")\r\n        .then(res => res.json())\r\n        .then(\r\n            (result) => {\r\n                this.setState({\r\n                    isLoaded: true,\r\n                    items: result\r\n                });\r\n                console.log(result)\r\n            },\r\n\r\n            (error) => {\r\n                this.setState({\r\n                    isLoaded: true,\r\n                    error\r\n                });\r\n            }\r\n        )\r\n}\r\n\r\nhandleDelete = (post) => {\r\n        const posts = this.state.items.filter(p => p.id !== post.id);\r\n        this.setState({items: posts});\r\n}\r\n\r\nhandlePageChange = (page) => {\r\n        this.setState({currentPage: page});\r\n};\r\n\r\nhandleSort = (path) => {\r\n    const sortColumn = {...this.state.sortColumn};\r\n    if(sortColumn.path === path) {\r\n        sortColumn.order = (sortColumn.order === 'asc') ? 'desc' : 'asc';\r\n    } else {\r\n        sortColumn.path = path;\r\n        sortColumn.order = 'asc';\r\n    }\r\n    this.setState({sortColumn});\r\n};\r\n\r\nrenderSortIcon = (column) => {\r\n    if(column !== this.state.sortColumn.path) {\r\n        return null;\r\n    }\r\n    if(this.state.sortColumn.order === 'asc') {\r\n        return <i className=\"fa fa-sort-asc\"></i>\r\n    }\r\n\r\n    if(this.state.sortColumn.order === 'desc') {\r\n        return <i className=\"fa fa-sort-desc\"></i>\r\n    }\r\n}\r\n\r\n    render() {\r\n        const { items, pageSize, currentPage, sortColumn } = this.state;\r\n\r\n\r\n        if (!items.length) {\r\n            return <p>Brak wpis√≥w</p>\r\n        }\r\n\r\n        const sorted = _.orderBy(items, [sortColumn.path], [sortColumn.order]);\r\n\r\n    const posts = paginate(sorted, currentPage, pageSize);\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PostsTable\r\n            items={posts}\r\n            sortIcon={this.renderSortIcon}\r\n            onDelete = {this.handleDelete}\r\n            onSort={this.handleSort}\r\n        />\r\n    <Pagination\r\n        itemsCount={items.length}\r\n        pageSize={this.state.pageSize}\r\n\r\n        currentPage={this.state.currentPage}\r\n        onPageChange={this.handlePageChange}\r\n    />\r\n</React.Fragment>)\r\n    }\r\n}\r\n\r\nexport default Posts;"],"mappings":"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"},"metadata":{},"sourceType":"module"}